function addSelectScripts(item){var select=document.getElementById("selectScript"),option=document.createElement("option");option.text=item,option.value=item,select.appendChild(option)}chrome.storage.sync.get("scriptNames",function(result){var names;void 0!==result.scriptNames&&result.scriptNames.split(";").forEach(addSelectScripts)});var saveScript=document.getElementById("btnSaveScript"),viewScript=document.getElementById("btnViewScript"),deleteScript=document.getElementById("btnDeleteScript"),clear=document.getElementById("btnClear");clear.onclick=function(){clearInput()};var select=document.getElementById("selectScript");function clearInput(){var dele;select.selectedIndex=0,document.getElementById("tbScriptName").value="",document.getElementById("tbScriptName").disabled=!1,document.getElementById("taScript").value="",document.getElementById("btnDeleteScript").disabled=!0}saveScript.onclick=function(element){var taScript=document.getElementById("taScript").value,scriptName=document.getElementById("tbScriptName").value;chrome.storage.sync.get("scriptNames",function(result){var names=[];void 0!==result.scriptNames&&(names=result.scriptNames.split(";")),names.includes(scriptName)||names.push(scriptName);var scripts=names.join(";");chrome.storage.sync.set({scriptNames:scripts},function(){});var scriptToAdd={};scriptToAdd[scriptName]=taScript,chrome.storage.sync.set(scriptToAdd,function(){})}),window.location.reload(!1)},select.onchange=function(){var scriptName=select.options[select.selectedIndex].value;if("0"!=scriptName){var dele;document.getElementById("btnDeleteScript").disabled=!1;var tbScriptName=document.getElementById("tbScriptName"),taScript=document.getElementById("taScript");tbScriptName.disabled=!0,tbScriptName.value=scriptName,chrome.storage.sync.get(scriptName,function(result){taScript.value=result[scriptName]})}else clearInput()},deleteScript.onclick=function(element){if(confirm("Deleted scripts can't be restored, are you sure you want to continue?")){var scriptName=select.options[select.selectedIndex].value;chrome.storage.sync.get("scriptNames",function(result){var names=[];if(void 0!==result.scriptNames){(names=result.scriptNames.split(";")).splice(names.indexOf(scriptName),1);var scripts=names.join(";");chrome.storage.sync.set({scriptNames:scripts},function(){})}}),chrome.storage.sync.remove(scriptName,function(){}),window.location.reload(!1)}};